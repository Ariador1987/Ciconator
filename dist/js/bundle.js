"use strict";!function(){var __webpack_modules__={"./src/js/accordion.js":function srcJsAccordionJs(){eval('const accordions = document.querySelectorAll(".accordion");\r\nconst accordionContents = document.querySelectorAll(".accordion-content");\r\n\r\naccordions.forEach((acc) =>\r\n    acc.addEventListener("click", (e) => {\r\n        handleAccordions(acc, e);\r\n    })\r\n);\r\n\r\nfunction handleAccordions(accordion, event) {\r\n    if (!event.target.classList.contains("accordion-heading--icon")) return;\r\n\r\n    event.target.textContent.trim() === "+"\r\n        ? (event.target.textContent = "-")\r\n        : (event.target.textContent = "+");\r\n\r\n    if (\r\n        accordion.firstElementChild.nextElementSibling.classList.contains(\r\n            "hidden"\r\n        )\r\n    ) {\r\n        accordion.firstElementChild.nextElementSibling.classList.remove(\r\n            "hidden"\r\n        );\r\n        accordion.firstElementChild.nextElementSibling.classList.add("show");\r\n    } else {\r\n        accordion.firstElementChild.nextElementSibling.classList.remove("show");\r\n        accordion.firstElementChild.nextElementSibling.classList.add("hidden");\r\n    }\r\n}\r\n\r\nwindow.addEventListener("DOMContentLoaded", () => {\r\n    [...accordionContents].forEach((el) => el.classList.add("hidden"));\r\n});\r\n\n\n//# sourceURL=webpack://gulpstarter/./src/js/accordion.js?')},"./src/js/gallery.js":function srcJsGalleryJs(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_kategorije_data_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../js/kategorije/data.js */ "./src/js/kategorije/data.js");\n\r\n\r\nclass Gallery {\r\n    #element = null;\r\n    #list = [];\r\n    #modal = null;\r\n    #modalImg = null;\r\n    #modalImages = [];\r\n    #closeBtn = null;\r\n    #nextBtn = null;\r\n    #prevBtn = null;\r\n    #imageName = null;\r\n\r\n    constructor(element) {\r\n        this.#element = element;\r\n        // console.log(this.#element);\r\n        this.initProps();\r\n        this.openModal();\r\n        this.closeModal();\r\n    }\r\n\r\n    setImages(element) {\r\n        // convert nodeList to Arr\r\n        this.#list = [...element.querySelectorAll(".gallery-img")];\r\n    }\r\n\r\n    setModal(element) {\r\n        this.#modal = element.parentElement.querySelector(\r\n            ".section-gallery__modal"\r\n        );\r\n    }\r\n\r\n    setModalImg(element) {\r\n        this.#modalImg = element.parentElement.querySelector(".main-img");\r\n    }\r\n\r\n    setModalImages(element) {\r\n        this.#modalImages = [\r\n            ...element.parentElement.querySelectorAll(".modal-img"),\r\n        ];\r\n    }\r\n\r\n    setImageName(element) {\r\n        this.#imageName = element.parentElement.querySelector(".image-name");\r\n    }\r\n\r\n    setCloseBtn() {\r\n        if (this.#modal) {\r\n            this.#closeBtn = this.#modal.querySelector(".close-btn");\r\n        }\r\n    }\r\n\r\n    setNextBtn() {\r\n        this.#nextBtn = this.#modal.querySelector(".next-btn");\r\n    }\r\n\r\n    setPrevBtn() {\r\n        this.#prevBtn = this.#modal.querySelector(".prev-btn");\r\n    }\r\n\r\n    initProps() {\r\n        this.setImages(this.#element);\r\n        this.setModal(this.#element);\r\n        this.setModalImg(this.#element);\r\n        this.setModalImages(this.#element);\r\n        this.setImageName(this.#element);\r\n        this.setCloseBtn();\r\n        this.setNextBtn();\r\n        this.setPrevBtn();\r\n    }\r\n\r\n    openModal() {\r\n        this.#element.addEventListener("click", (e) => {\r\n            this.#modal.classList.add("open");\r\n            this.setOpenModalImages(e.target);\r\n        });\r\n    }\r\n\r\n    closeModal() {\r\n        this.#modal.addEventListener("click", (e) => {\r\n            if (\r\n                e.target.classList.value === "section-gallery__modal open" ||\r\n                e.target.classList.contains("fa-times")\r\n            ) {\r\n                this.#modal.classList.remove("open");\r\n            }\r\n        });\r\n    }\r\n\r\n    setOpenModalImages(mainImage) {\r\n        // mainImage is e.target from click\r\n        const category = this.getAppropriateCategory(mainImage);\r\n        this.renderModalHTML(mainImage, category);\r\n    }\r\n\r\n    getAppropriateCategory(mainImage) {\r\n        if (!mainImage.dataset.name) {\r\n            console.error(\r\n                "something went wrong with getting category for image"\r\n            );\r\n            return;\r\n        }\r\n        const categoryName = mainImage.dataset.name;\r\n        const appropariateCategory = _js_kategorije_data_js__WEBPACK_IMPORTED_MODULE_0__.slike.find((x) => x.ime === categoryName);\r\n        return appropariateCategory;\r\n    }\r\n\r\n    renderModalHTML(mainImage, category) {\r\n        let mainItem = mainImage;\r\n        let id = +mainItem.dataset.id;\r\n        const selected = category.images.find((x) => x.id === id);\r\n        this.#modal.innerHTML = `\r\n        <button class="close-btn">\r\n            <i class="fas fa-times"></i>\r\n        </button>\r\n        <div class="section-gallery__modal--content">\r\n            <button class="prev-btn">\r\n                <i class="fas fa-chevron-left"></i>\r\n            </button>\r\n            <button class="next-btn">\r\n                <i class="fas fa-chevron-right"></i>\r\n            </button>\r\n            <img src="${selected.src}" alt="cat" data-name=${\r\n            category.ime\r\n        } data-id="${selected.id}" class="main-img">\r\n            <p class="image-name">${selected.description}</p>\r\n            <div class="modal-images g-1">\r\n                ${category.images\r\n                    .map(\r\n                        (el) =>\r\n                            `<img src="${el.src}" alt="cat" data-id=${\r\n                                el.id\r\n                            } data-name=${category.ime} class="modal-img ${\r\n                                el.id === selected.id ? "selected" : ""\r\n                            }">`\r\n                    )\r\n                    .join("")}\r\n            </div>\r\n        </div>\r\n        `;\r\n    }\r\n}\r\n\r\n{\r\n    /* <img src="./img/galleryphotos/cat-1.jpg" alt="cat" class="modal-img selected">\r\n                <img src="./img/galleryphotos/cat-2.jpg" alt="cat" class="modal-img">\r\n                <img src="./img/galleryphotos/cat-3.jpg" alt="cat" class="modal-img"></img> */\r\n}\r\n\r\nfunction setElement(selection) {\r\n    const element = document.querySelector(selection);\r\n    if (element) {\r\n        return element;\r\n    }\r\n    throw new Error(\r\n        `Please check "${selection}" selector, no such element exists`\r\n    );\r\n}\r\n\r\nconst kapije = new Gallery(setElement(".kapije"));\r\nconst ograde = new Gallery(setElement(".ograde"));\r\n\n\n//# sourceURL=webpack://gulpstarter/./src/js/gallery.js?')},"./src/js/kategorije/data.js":function srcJsKategorijeDataJs(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "slike": () => (/* binding */ slike)\n/* harmony export */ });\nconst slike = [\r\n    {\r\n        ime: "kapije",\r\n        images: [\r\n            {\r\n                id: 1,\r\n                description: "ovo je opis",\r\n                src: "./img/gallery/cat-1.jpg",\r\n            },\r\n            {\r\n                id: 2,\r\n                description: "ovo je opis dva",\r\n                src: "./img/gallery/cat-2.jpg",\r\n            },\r\n            {\r\n                id: 3,\r\n                description: "ovo je opis tri",\r\n                src: "./img/gallery/cat-3.jpg",\r\n            },\r\n            {\r\n                id: 4,\r\n                description: "ovo je opis tri",\r\n                src: "./img/gallery/cat-4.jpg",\r\n            },\r\n            {\r\n                id: 5,\r\n                description: "ovo je opis tri",\r\n                src: "./img/gallery/cat-5.jpg",\r\n            },\r\n            {\r\n                id: 6,\r\n                description: "ovo je opis tri",\r\n                src: "./img/gallery/cat-6.jpg",\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        ime: "ograde",\r\n        images: [\r\n            {\r\n                id: 7,\r\n                description: "ovo je opis",\r\n                src: "./img/gallery/cat-7.jpg",\r\n            },\r\n            {\r\n                id: 8,\r\n                description: "ovo je opis dva",\r\n                src: "./img/gallery/cat-8.jpg",\r\n            },\r\n            {\r\n                id: 9,\r\n                description: "ovo je opis tri",\r\n                src: "./img/gallery/cat-9.jpg",\r\n            },\r\n            {\r\n                id: 10,\r\n                description: "ovo je opis tri",\r\n                src: "./img/gallery/cat-10.jpg",\r\n            },\r\n            {\r\n                id: 11,\r\n                description: "ovo je opis tri",\r\n                src: "./img/gallery/cat-11.jpg",\r\n            },\r\n            {\r\n                id: 12,\r\n                description: "ovo je opis tri",\r\n                src: "./img/gallery/cat-12.jpg",\r\n            },\r\n        ],\r\n    },\r\n];\r\n\n\n//# sourceURL=webpack://gulpstarter/./src/js/kategorije/data.js?')},"./src/js/main.js":function srcJsMainJs(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _testimonials_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./testimonials.js */ "./src/js/testimonials.js");\n/* harmony import */ var _accordion_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./accordion.js */ "./src/js/accordion.js");\n/* harmony import */ var _accordion_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_accordion_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _gallery_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gallery.js */ "./src/js/gallery.js");\n\r\n\r\n\r\n\r\nconst togglerBtn = document.querySelector(".main-nav--toggler");\r\nconst linksContainer = document.querySelector(".main-nav__links-container");\r\nconst hamburgerLines = document.querySelectorAll(".main-nav--toggler-line");\r\n\r\ntogglerBtn.addEventListener("click", (e) => {\r\n    e.preventDefault();\r\n    hamburgerLines.forEach((el) => el.classList.toggle("active"));\r\n    linksContainer.classList.toggle("active");\r\n});\r\n\r\nlinksContainer.addEventListener("click", (e) => {\r\n    e.preventDefault();\r\n    if ([...hamburgerLines].some((el) => el.classList.contains("active"))) {\r\n        hamburgerLines.forEach((el) => el.classList.remove("active"));\r\n        linksContainer.classList.remove("active");\r\n    }\r\n});\r\n\r\ndocument.addEventListener("DOMContentLoaded", () => {\r\n    [...accordionContents].forEach((el) => el.classList.add("hidden"));\r\n});\r\n\n\n//# sourceURL=webpack://gulpstarter/./src/js/main.js?')},"./src/js/reviews.js":function srcJsReviewsJs(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "reviews": () => (/* binding */ reviews)\n/* harmony export */ });\nconst reviews = [\r\n    {\r\n        id: 1,\r\n        name: "Cat One",\r\n        job: "UX",\r\n        img: "img/cat-1.jpg",\r\n        text: "Odličan posao na našoj kući u Vinišću, izuzetno smo zadovoljni kvalitetom i radom.",\r\n    },\r\n    {\r\n        id: 2,\r\n        name: "Cat Two",\r\n        job: "Graphics",\r\n        img: "img/cat-2.jpg",\r\n        text: "This is some random text",\r\n    },\r\n    {\r\n        id: 3,\r\n        name: "Cat One",\r\n        job: "Tester",\r\n        img: "img/cat-3.jpg",\r\n        text: "This is some random text",\r\n    },\r\n];\r\n\n\n//# sourceURL=webpack://gulpstarter/./src/js/reviews.js?')},"./src/js/testimonials.js":function srcJsTestimonialsJs(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _reviews_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reviews.js */ "./src/js/reviews.js");\n\r\n\r\nconst testimonialContainer = document.querySelector(".testimonials");\r\nconst testimonialImg = document.querySelector(".testimonials__img");\r\nconst testimonialTitle = document.querySelector(".testimonials__title");\r\nconst testimonialJob = document.querySelector(".testimonials__job");\r\nconst testimonialInfo = document.querySelector(".testimonials__info");\r\nconst btnTestimonialLeft = document.querySelector(\r\n    ".testimonials__button--left"\r\n);\r\nconst btnTestimonialRight = document.querySelector(\r\n    ".testimonials__button--right"\r\n);\r\n\r\n// State\r\nlet currentNumber = 0;\r\nconst intervalTiming = 2250;\r\nlet interval = setInterval(() => intervalSetup(), intervalTiming);\r\n\r\n// Event Listeners\r\ntestimonialContainer.addEventListener("mouseover", () => {\r\n    clearInterval(interval);\r\n});\r\n\r\ntestimonialContainer.addEventListener("mouseout", () => {\r\n    interval = setInterval(() => intervalSetup(), intervalTiming);\r\n});\r\n\r\nbtnTestimonialLeft.addEventListener("click", (e) => {\r\n    e.preventDefault();\r\n    currentNumber--;\r\n    moveItem();\r\n});\r\n\r\nbtnTestimonialRight.addEventListener("click", (e) => {\r\n    e.preventDefault();\r\n    currentNumber++;\r\n    moveItem();\r\n});\r\n\r\nwindow.addEventListener("DOMContentLoaded", () => {\r\n    const item = _reviews_js__WEBPACK_IMPORTED_MODULE_0__.reviews[currentNumber];\r\n    setProperties(item);\r\n});\r\n\r\n// Logic - Functions\r\nfunction adjustNumber(num) {\r\n    if (num < 0) {\r\n        currentNumber = _reviews_js__WEBPACK_IMPORTED_MODULE_0__.reviews.length - 1;\r\n        return currentNumber;\r\n    }\r\n    if (num > _reviews_js__WEBPACK_IMPORTED_MODULE_0__.reviews.length - 1) {\r\n        currentNumber = 0;\r\n        return currentNumber;\r\n    }\r\n}\r\n\r\nfunction intervalSetup() {\r\n    currentNumber++;\r\n    moveItem();\r\n}\r\n\r\nfunction moveItem() {\r\n    if (isValidNumber(currentNumber)) {\r\n        setProperties(_reviews_js__WEBPACK_IMPORTED_MODULE_0__.reviews[currentNumber]);\r\n        return;\r\n    }\r\n    adjustNumber(currentNumber);\r\n    setProperties(_reviews_js__WEBPACK_IMPORTED_MODULE_0__.reviews[currentNumber]);\r\n}\r\n\r\nfunction isValidNumber(num) {\r\n    return Number.isFinite(num) && num >= 0 && num < _reviews_js__WEBPACK_IMPORTED_MODULE_0__.reviews.length;\r\n}\r\n\r\nfunction setProperties(item) {\r\n    testimonialImg.src = item.img;\r\n    testimonialTitle.textContent = item.name;\r\n    testimonialJob.textContent = item.job;\r\n    testimonialInfo.textContent = item.text;\r\n}\r\n\n\n//# sourceURL=webpack://gulpstarter/./src/js/testimonials.js?')}},__webpack_module_cache__={};function __webpack_require__(e){var r=__webpack_module_cache__[e];return void 0!==r||(r=__webpack_module_cache__[e]={exports:{}},__webpack_modules__[e](r,r.exports,__webpack_require__)),r.exports}__webpack_require__.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(r,{a:r}),r},__webpack_require__.d=function(e,r){for(var n in r)__webpack_require__.o(r,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},__webpack_require__.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./src/js/main.js")}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyJidW5kbGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gKiBBVFRFTlRJT046IFRoZSBcImV2YWxcIiBkZXZ0b29sIGhhcyBiZWVuIHVzZWQgKG1heWJlIGJ5IGRlZmF1bHQgaW4gbW9kZTogXCJkZXZlbG9wbWVudFwiKS5cbiAqIFRoaXMgZGV2dG9vbCBpcyBuZWl0aGVyIG1hZGUgZm9yIHByb2R1Y3Rpb24gbm9yIGZvciByZWFkYWJsZSBvdXRwdXQgZmlsZXMuXG4gKiBJdCB1c2VzIFwiZXZhbCgpXCIgY2FsbHMgdG8gY3JlYXRlIGEgc2VwYXJhdGUgc291cmNlIGZpbGUgaW4gdGhlIGJyb3dzZXIgZGV2dG9vbHMuXG4gKiBJZiB5b3UgYXJlIHRyeWluZyB0byByZWFkIHRoZSBvdXRwdXQgZmlsZSwgc2VsZWN0IGEgZGlmZmVyZW50IGRldnRvb2wgKGh0dHBzOi8vd2VicGFjay5qcy5vcmcvY29uZmlndXJhdGlvbi9kZXZ0b29sLylcbiAqIG9yIGRpc2FibGUgdGhlIGRlZmF1bHQgZGV2dG9vbCB3aXRoIFwiZGV2dG9vbDogZmFsc2VcIi5cbiAqIElmIHlvdSBhcmUgbG9va2luZyBmb3IgcHJvZHVjdGlvbi1yZWFkeSBvdXRwdXQgZmlsZXMsIHNlZSBtb2RlOiBcInByb2R1Y3Rpb25cIiAoaHR0cHM6Ly93ZWJwYWNrLmpzLm9yZy9jb25maWd1cmF0aW9uL21vZGUvKS5cbiAqL1xuXG4vKioqKioqL1xuKGZ1bmN0aW9uICgpIHtcbiAgLy8gd2VicGFja0Jvb3RzdHJhcFxuXG4gIC8qKioqKiovXG4gIHZhciBfX3dlYnBhY2tfbW9kdWxlc19fID0ge1xuICAgIC8qKiovXG4gICAgXCIuL3NyYy9qcy9hY2NvcmRpb24uanNcIjpcbiAgICAvKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgICAgICEqKiogLi9zcmMvanMvYWNjb3JkaW9uLmpzICoqKiFcbiAgICAgIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICAvKioqL1xuICAgIGZ1bmN0aW9uIHNyY0pzQWNjb3JkaW9uSnMoKSB7XG4gICAgICBldmFsKFwiY29uc3QgYWNjb3JkaW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXFxcIi5hY2NvcmRpb25cXFwiKTtcXHJcXG5jb25zdCBhY2NvcmRpb25Db250ZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXFxcIi5hY2NvcmRpb24tY29udGVudFxcXCIpO1xcclxcblxcclxcbmFjY29yZGlvbnMuZm9yRWFjaCgoYWNjKSA9PlxcclxcbiAgICBhY2MuYWRkRXZlbnRMaXN0ZW5lcihcXFwiY2xpY2tcXFwiLCAoZSkgPT4ge1xcclxcbiAgICAgICAgaGFuZGxlQWNjb3JkaW9ucyhhY2MsIGUpO1xcclxcbiAgICB9KVxcclxcbik7XFxyXFxuXFxyXFxuZnVuY3Rpb24gaGFuZGxlQWNjb3JkaW9ucyhhY2NvcmRpb24sIGV2ZW50KSB7XFxyXFxuICAgIGlmICghZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcXFwiYWNjb3JkaW9uLWhlYWRpbmctLWljb25cXFwiKSkgcmV0dXJuO1xcclxcblxcclxcbiAgICBldmVudC50YXJnZXQudGV4dENvbnRlbnQudHJpbSgpID09PSBcXFwiK1xcXCJcXHJcXG4gICAgICAgID8gKGV2ZW50LnRhcmdldC50ZXh0Q29udGVudCA9IFxcXCItXFxcIilcXHJcXG4gICAgICAgIDogKGV2ZW50LnRhcmdldC50ZXh0Q29udGVudCA9IFxcXCIrXFxcIik7XFxyXFxuXFxyXFxuICAgIGlmIChcXHJcXG4gICAgICAgIGFjY29yZGlvbi5maXJzdEVsZW1lbnRDaGlsZC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKFxcclxcbiAgICAgICAgICAgIFxcXCJoaWRkZW5cXFwiXFxyXFxuICAgICAgICApXFxyXFxuICAgICkge1xcclxcbiAgICAgICAgYWNjb3JkaW9uLmZpcnN0RWxlbWVudENoaWxkLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QucmVtb3ZlKFxcclxcbiAgICAgICAgICAgIFxcXCJoaWRkZW5cXFwiXFxyXFxuICAgICAgICApO1xcclxcbiAgICAgICAgYWNjb3JkaW9uLmZpcnN0RWxlbWVudENoaWxkLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuYWRkKFxcXCJzaG93XFxcIik7XFxyXFxuICAgIH0gZWxzZSB7XFxyXFxuICAgICAgICBhY2NvcmRpb24uZmlyc3RFbGVtZW50Q2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoXFxcInNob3dcXFwiKTtcXHJcXG4gICAgICAgIGFjY29yZGlvbi5maXJzdEVsZW1lbnRDaGlsZC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmFkZChcXFwiaGlkZGVuXFxcIik7XFxyXFxuICAgIH1cXHJcXG59XFxyXFxuXFxyXFxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXFxcIkRPTUNvbnRlbnRMb2FkZWRcXFwiLCAoKSA9PiB7XFxyXFxuICAgIFsuLi5hY2NvcmRpb25Db250ZW50c10uZm9yRWFjaCgoZWwpID0+IGVsLmNsYXNzTGlzdC5hZGQoXFxcImhpZGRlblxcXCIpKTtcXHJcXG59KTtcXHJcXG5cXG5cXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly9ndWxwc3RhcnRlci8uL3NyYy9qcy9hY2NvcmRpb24uanM/XCIpO1xuICAgICAgLyoqKi9cbiAgICB9LFxuXG4gICAgLyoqKi9cbiAgICBcIi4vc3JjL2pzL2dhbGxlcnkuanNcIjpcbiAgICAvKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICAgICAhKioqIC4vc3JjL2pzL2dhbGxlcnkuanMgKioqIVxuICAgICAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICAvKioqL1xuICAgIGZ1bmN0aW9uIHNyY0pzR2FsbGVyeUpzKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gICAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgICAgZXZhbChcIl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2pzX2thdGVnb3JpamVfZGF0YV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vanMva2F0ZWdvcmlqZS9kYXRhLmpzICovIFxcXCIuL3NyYy9qcy9rYXRlZ29yaWplL2RhdGEuanNcXFwiKTtcXG5cXHJcXG5cXHJcXG5jbGFzcyBHYWxsZXJ5IHtcXHJcXG4gICAgI2VsZW1lbnQgPSBudWxsO1xcclxcbiAgICAjbGlzdCA9IFtdO1xcclxcbiAgICAjbW9kYWwgPSBudWxsO1xcclxcbiAgICAjbW9kYWxJbWcgPSBudWxsO1xcclxcbiAgICAjbW9kYWxJbWFnZXMgPSBbXTtcXHJcXG4gICAgI2Nsb3NlQnRuID0gbnVsbDtcXHJcXG4gICAgI25leHRCdG4gPSBudWxsO1xcclxcbiAgICAjcHJldkJ0biA9IG51bGw7XFxyXFxuICAgICNpbWFnZU5hbWUgPSBudWxsO1xcclxcblxcclxcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XFxyXFxuICAgICAgICB0aGlzLiNlbGVtZW50ID0gZWxlbWVudDtcXHJcXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuI2VsZW1lbnQpO1xcclxcbiAgICAgICAgdGhpcy5pbml0UHJvcHMoKTtcXHJcXG4gICAgICAgIHRoaXMub3Blbk1vZGFsKCk7XFxyXFxuICAgICAgICB0aGlzLmNsb3NlTW9kYWwoKTtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICBzZXRJbWFnZXMoZWxlbWVudCkge1xcclxcbiAgICAgICAgLy8gY29udmVydCBub2RlTGlzdCB0byBBcnJcXHJcXG4gICAgICAgIHRoaXMuI2xpc3QgPSBbLi4uZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFxcXCIuZ2FsbGVyeS1pbWdcXFwiKV07XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgc2V0TW9kYWwoZWxlbWVudCkge1xcclxcbiAgICAgICAgdGhpcy4jbW9kYWwgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcXHJcXG4gICAgICAgICAgICBcXFwiLnNlY3Rpb24tZ2FsbGVyeV9fbW9kYWxcXFwiXFxyXFxuICAgICAgICApO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIHNldE1vZGFsSW1nKGVsZW1lbnQpIHtcXHJcXG4gICAgICAgIHRoaXMuI21vZGFsSW1nID0gZWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXFxcIi5tYWluLWltZ1xcXCIpO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIHNldE1vZGFsSW1hZ2VzKGVsZW1lbnQpIHtcXHJcXG4gICAgICAgIHRoaXMuI21vZGFsSW1hZ2VzID0gW1xcclxcbiAgICAgICAgICAgIC4uLmVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFxcXCIubW9kYWwtaW1nXFxcIiksXFxyXFxuICAgICAgICBdO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIHNldEltYWdlTmFtZShlbGVtZW50KSB7XFxyXFxuICAgICAgICB0aGlzLiNpbWFnZU5hbWUgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcXFwiLmltYWdlLW5hbWVcXFwiKTtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICBzZXRDbG9zZUJ0bigpIHtcXHJcXG4gICAgICAgIGlmICh0aGlzLiNtb2RhbCkge1xcclxcbiAgICAgICAgICAgIHRoaXMuI2Nsb3NlQnRuID0gdGhpcy4jbW9kYWwucXVlcnlTZWxlY3RvcihcXFwiLmNsb3NlLWJ0blxcXCIpO1xcclxcbiAgICAgICAgfVxcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIHNldE5leHRCdG4oKSB7XFxyXFxuICAgICAgICB0aGlzLiNuZXh0QnRuID0gdGhpcy4jbW9kYWwucXVlcnlTZWxlY3RvcihcXFwiLm5leHQtYnRuXFxcIik7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgc2V0UHJldkJ0bigpIHtcXHJcXG4gICAgICAgIHRoaXMuI3ByZXZCdG4gPSB0aGlzLiNtb2RhbC5xdWVyeVNlbGVjdG9yKFxcXCIucHJldi1idG5cXFwiKTtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICBpbml0UHJvcHMoKSB7XFxyXFxuICAgICAgICB0aGlzLnNldEltYWdlcyh0aGlzLiNlbGVtZW50KTtcXHJcXG4gICAgICAgIHRoaXMuc2V0TW9kYWwodGhpcy4jZWxlbWVudCk7XFxyXFxuICAgICAgICB0aGlzLnNldE1vZGFsSW1nKHRoaXMuI2VsZW1lbnQpO1xcclxcbiAgICAgICAgdGhpcy5zZXRNb2RhbEltYWdlcyh0aGlzLiNlbGVtZW50KTtcXHJcXG4gICAgICAgIHRoaXMuc2V0SW1hZ2VOYW1lKHRoaXMuI2VsZW1lbnQpO1xcclxcbiAgICAgICAgdGhpcy5zZXRDbG9zZUJ0bigpO1xcclxcbiAgICAgICAgdGhpcy5zZXROZXh0QnRuKCk7XFxyXFxuICAgICAgICB0aGlzLnNldFByZXZCdG4oKTtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICBvcGVuTW9kYWwoKSB7XFxyXFxuICAgICAgICB0aGlzLiNlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXFxcImNsaWNrXFxcIiwgKGUpID0+IHtcXHJcXG4gICAgICAgICAgICB0aGlzLiNtb2RhbC5jbGFzc0xpc3QuYWRkKFxcXCJvcGVuXFxcIik7XFxyXFxuICAgICAgICAgICAgdGhpcy5zZXRPcGVuTW9kYWxJbWFnZXMoZS50YXJnZXQpO1xcclxcbiAgICAgICAgfSk7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgY2xvc2VNb2RhbCgpIHtcXHJcXG4gICAgICAgIHRoaXMuI21vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXFxcImNsaWNrXFxcIiwgKGUpID0+IHtcXHJcXG4gICAgICAgICAgICBpZiAoXFxyXFxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZSA9PT0gXFxcInNlY3Rpb24tZ2FsbGVyeV9fbW9kYWwgb3BlblxcXCIgfHxcXHJcXG4gICAgICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFxcXCJmYS10aW1lc1xcXCIpXFxyXFxuICAgICAgICAgICAgKSB7XFxyXFxuICAgICAgICAgICAgICAgIHRoaXMuI21vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXFxcIm9wZW5cXFwiKTtcXHJcXG4gICAgICAgICAgICB9XFxyXFxuICAgICAgICB9KTtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICBzZXRPcGVuTW9kYWxJbWFnZXMobWFpbkltYWdlKSB7XFxyXFxuICAgICAgICAvLyBtYWluSW1hZ2UgaXMgZS50YXJnZXQgZnJvbSBjbGlja1xcclxcbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLmdldEFwcHJvcHJpYXRlQ2F0ZWdvcnkobWFpbkltYWdlKTtcXHJcXG4gICAgICAgIHRoaXMucmVuZGVyTW9kYWxIVE1MKG1haW5JbWFnZSwgY2F0ZWdvcnkpO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIGdldEFwcHJvcHJpYXRlQ2F0ZWdvcnkobWFpbkltYWdlKSB7XFxyXFxuICAgICAgICBpZiAoIW1haW5JbWFnZS5kYXRhc2V0Lm5hbWUpIHtcXHJcXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxcclxcbiAgICAgICAgICAgICAgICBcXFwic29tZXRoaW5nIHdlbnQgd3Jvbmcgd2l0aCBnZXR0aW5nIGNhdGVnb3J5IGZvciBpbWFnZVxcXCJcXHJcXG4gICAgICAgICAgICApO1xcclxcbiAgICAgICAgICAgIHJldHVybjtcXHJcXG4gICAgICAgIH1cXHJcXG4gICAgICAgIGNvbnN0IGNhdGVnb3J5TmFtZSA9IG1haW5JbWFnZS5kYXRhc2V0Lm5hbWU7XFxyXFxuICAgICAgICBjb25zdCBhcHByb3BhcmlhdGVDYXRlZ29yeSA9IF9qc19rYXRlZ29yaWplX2RhdGFfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXy5zbGlrZS5maW5kKCh4KSA9PiB4LmltZSA9PT0gY2F0ZWdvcnlOYW1lKTtcXHJcXG4gICAgICAgIHJldHVybiBhcHByb3BhcmlhdGVDYXRlZ29yeTtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICByZW5kZXJNb2RhbEhUTUwobWFpbkltYWdlLCBjYXRlZ29yeSkge1xcclxcbiAgICAgICAgbGV0IG1haW5JdGVtID0gbWFpbkltYWdlO1xcclxcbiAgICAgICAgbGV0IGlkID0gK21haW5JdGVtLmRhdGFzZXQuaWQ7XFxyXFxuICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGNhdGVnb3J5LmltYWdlcy5maW5kKCh4KSA9PiB4LmlkID09PSBpZCk7XFxyXFxuICAgICAgICB0aGlzLiNtb2RhbC5pbm5lckhUTUwgPSBgXFxyXFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJjbG9zZS1idG5cXFwiPlxcclxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtdGltZXNcXFwiPjwvaT5cXHJcXG4gICAgICAgIDwvYnV0dG9uPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwic2VjdGlvbi1nYWxsZXJ5X19tb2RhbC0tY29udGVudFxcXCI+XFxyXFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwicHJldi1idG5cXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWNoZXZyb24tbGVmdFxcXCI+PC9pPlxcclxcbiAgICAgICAgICAgIDwvYnV0dG9uPlxcclxcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcIm5leHQtYnRuXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+XFxyXFxuICAgICAgICAgICAgPC9idXR0b24+XFxyXFxuICAgICAgICAgICAgPGltZyBzcmM9XFxcIiR7c2VsZWN0ZWQuc3JjfVxcXCIgYWx0PVxcXCJjYXRcXFwiIGRhdGEtbmFtZT0ke1xcclxcbiAgICAgICAgICAgIGNhdGVnb3J5LmltZVxcclxcbiAgICAgICAgfSBkYXRhLWlkPVxcXCIke3NlbGVjdGVkLmlkfVxcXCIgY2xhc3M9XFxcIm1haW4taW1nXFxcIj5cXHJcXG4gICAgICAgICAgICA8cCBjbGFzcz1cXFwiaW1hZ2UtbmFtZVxcXCI+JHtzZWxlY3RlZC5kZXNjcmlwdGlvbn08L3A+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtaW1hZ2VzIGctMVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICR7Y2F0ZWdvcnkuaW1hZ2VzXFxyXFxuICAgICAgICAgICAgICAgICAgICAubWFwKFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIChlbCkgPT5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYDxpbWcgc3JjPVxcXCIke2VsLnNyY31cXFwiIGFsdD1cXFwiY2F0XFxcIiBkYXRhLWlkPSR7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5pZFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGRhdGEtbmFtZT0ke2NhdGVnb3J5LmltZX0gY2xhc3M9XFxcIm1vZGFsLWltZyAke1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuaWQgPT09IHNlbGVjdGVkLmlkID8gXFxcInNlbGVjdGVkXFxcIiA6IFxcXCJcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cXFwiPmBcXHJcXG4gICAgICAgICAgICAgICAgICAgIClcXHJcXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKFxcXCJcXFwiKX1cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgYDtcXHJcXG4gICAgfVxcclxcbn1cXHJcXG5cXHJcXG57XFxyXFxuICAgIC8qIDxpbWcgc3JjPVxcXCIuL2ltZy9nYWxsZXJ5cGhvdG9zL2NhdC0xLmpwZ1xcXCIgYWx0PVxcXCJjYXRcXFwiIGNsYXNzPVxcXCJtb2RhbC1pbWcgc2VsZWN0ZWRcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cXFwiLi9pbWcvZ2FsbGVyeXBob3Rvcy9jYXQtMi5qcGdcXFwiIGFsdD1cXFwiY2F0XFxcIiBjbGFzcz1cXFwibW9kYWwtaW1nXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XFxcIi4vaW1nL2dhbGxlcnlwaG90b3MvY2F0LTMuanBnXFxcIiBhbHQ9XFxcImNhdFxcXCIgY2xhc3M9XFxcIm1vZGFsLWltZ1xcXCI+PC9pbWc+ICovXFxyXFxufVxcclxcblxcclxcbmZ1bmN0aW9uIHNldEVsZW1lbnQoc2VsZWN0aW9uKSB7XFxyXFxuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdGlvbik7XFxyXFxuICAgIGlmIChlbGVtZW50KSB7XFxyXFxuICAgICAgICByZXR1cm4gZWxlbWVudDtcXHJcXG4gICAgfVxcclxcbiAgICB0aHJvdyBuZXcgRXJyb3IoXFxyXFxuICAgICAgICBgUGxlYXNlIGNoZWNrIFxcXCIke3NlbGVjdGlvbn1cXFwiIHNlbGVjdG9yLCBubyBzdWNoIGVsZW1lbnQgZXhpc3RzYFxcclxcbiAgICApO1xcclxcbn1cXHJcXG5cXHJcXG5jb25zdCBrYXBpamUgPSBuZXcgR2FsbGVyeShzZXRFbGVtZW50KFxcXCIua2FwaWplXFxcIikpO1xcclxcbmNvbnN0IG9ncmFkZSA9IG5ldyBHYWxsZXJ5KHNldEVsZW1lbnQoXFxcIi5vZ3JhZGVcXFwiKSk7XFxyXFxuXFxuXFxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vZ3VscHN0YXJ0ZXIvLi9zcmMvanMvZ2FsbGVyeS5qcz9cIik7XG4gICAgICAvKioqL1xuICAgIH0sXG5cbiAgICAvKioqL1xuICAgIFwiLi9zcmMvanMva2F0ZWdvcmlqZS9kYXRhLmpzXCI6XG4gICAgLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICAgICAhKioqIC4vc3JjL2pzL2thdGVnb3JpamUvZGF0YS5qcyAqKiohXG4gICAgICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgLyoqKi9cbiAgICBmdW5jdGlvbiBzcmNKc0thdGVnb3JpamVEYXRhSnMoX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcbiAgICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgICBldmFsKFwiX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xcbi8qIGhhcm1vbnkgZXhwb3J0ICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCB7XFxuLyogaGFybW9ueSBleHBvcnQgKi8gICBcXFwic2xpa2VcXFwiOiAoKSA9PiAoLyogYmluZGluZyAqLyBzbGlrZSlcXG4vKiBoYXJtb255IGV4cG9ydCAqLyB9KTtcXG5jb25zdCBzbGlrZSA9IFtcXHJcXG4gICAge1xcclxcbiAgICAgICAgaW1lOiBcXFwia2FwaWplXFxcIixcXHJcXG4gICAgICAgIGltYWdlczogW1xcclxcbiAgICAgICAgICAgIHtcXHJcXG4gICAgICAgICAgICAgICAgaWQ6IDEsXFxyXFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcXFwib3ZvIGplIG9waXNcXFwiLFxcclxcbiAgICAgICAgICAgICAgICBzcmM6IFxcXCIuL2ltZy9nYWxsZXJ5L2NhdC0xLmpwZ1xcXCIsXFxyXFxuICAgICAgICAgICAgfSxcXHJcXG4gICAgICAgICAgICB7XFxyXFxuICAgICAgICAgICAgICAgIGlkOiAyLFxcclxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXFxcIm92byBqZSBvcGlzIGR2YVxcXCIsXFxyXFxuICAgICAgICAgICAgICAgIHNyYzogXFxcIi4vaW1nL2dhbGxlcnkvY2F0LTIuanBnXFxcIixcXHJcXG4gICAgICAgICAgICB9LFxcclxcbiAgICAgICAgICAgIHtcXHJcXG4gICAgICAgICAgICAgICAgaWQ6IDMsXFxyXFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcXFwib3ZvIGplIG9waXMgdHJpXFxcIixcXHJcXG4gICAgICAgICAgICAgICAgc3JjOiBcXFwiLi9pbWcvZ2FsbGVyeS9jYXQtMy5qcGdcXFwiLFxcclxcbiAgICAgICAgICAgIH0sXFxyXFxuICAgICAgICAgICAge1xcclxcbiAgICAgICAgICAgICAgICBpZDogNCxcXHJcXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFxcXCJvdm8gamUgb3BpcyB0cmlcXFwiLFxcclxcbiAgICAgICAgICAgICAgICBzcmM6IFxcXCIuL2ltZy9nYWxsZXJ5L2NhdC00LmpwZ1xcXCIsXFxyXFxuICAgICAgICAgICAgfSxcXHJcXG4gICAgICAgICAgICB7XFxyXFxuICAgICAgICAgICAgICAgIGlkOiA1LFxcclxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXFxcIm92byBqZSBvcGlzIHRyaVxcXCIsXFxyXFxuICAgICAgICAgICAgICAgIHNyYzogXFxcIi4vaW1nL2dhbGxlcnkvY2F0LTUuanBnXFxcIixcXHJcXG4gICAgICAgICAgICB9LFxcclxcbiAgICAgICAgICAgIHtcXHJcXG4gICAgICAgICAgICAgICAgaWQ6IDYsXFxyXFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcXFwib3ZvIGplIG9waXMgdHJpXFxcIixcXHJcXG4gICAgICAgICAgICAgICAgc3JjOiBcXFwiLi9pbWcvZ2FsbGVyeS9jYXQtNi5qcGdcXFwiLFxcclxcbiAgICAgICAgICAgIH0sXFxyXFxuICAgICAgICBdLFxcclxcbiAgICB9LFxcclxcbiAgICB7XFxyXFxuICAgICAgICBpbWU6IFxcXCJvZ3JhZGVcXFwiLFxcclxcbiAgICAgICAgaW1hZ2VzOiBbXFxyXFxuICAgICAgICAgICAge1xcclxcbiAgICAgICAgICAgICAgICBpZDogNyxcXHJcXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFxcXCJvdm8gamUgb3Bpc1xcXCIsXFxyXFxuICAgICAgICAgICAgICAgIHNyYzogXFxcIi4vaW1nL2dhbGxlcnkvY2F0LTcuanBnXFxcIixcXHJcXG4gICAgICAgICAgICB9LFxcclxcbiAgICAgICAgICAgIHtcXHJcXG4gICAgICAgICAgICAgICAgaWQ6IDgsXFxyXFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcXFwib3ZvIGplIG9waXMgZHZhXFxcIixcXHJcXG4gICAgICAgICAgICAgICAgc3JjOiBcXFwiLi9pbWcvZ2FsbGVyeS9jYXQtOC5qcGdcXFwiLFxcclxcbiAgICAgICAgICAgIH0sXFxyXFxuICAgICAgICAgICAge1xcclxcbiAgICAgICAgICAgICAgICBpZDogOSxcXHJcXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFxcXCJvdm8gamUgb3BpcyB0cmlcXFwiLFxcclxcbiAgICAgICAgICAgICAgICBzcmM6IFxcXCIuL2ltZy9nYWxsZXJ5L2NhdC05LmpwZ1xcXCIsXFxyXFxuICAgICAgICAgICAgfSxcXHJcXG4gICAgICAgICAgICB7XFxyXFxuICAgICAgICAgICAgICAgIGlkOiAxMCxcXHJcXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFxcXCJvdm8gamUgb3BpcyB0cmlcXFwiLFxcclxcbiAgICAgICAgICAgICAgICBzcmM6IFxcXCIuL2ltZy9nYWxsZXJ5L2NhdC0xMC5qcGdcXFwiLFxcclxcbiAgICAgICAgICAgIH0sXFxyXFxuICAgICAgICAgICAge1xcclxcbiAgICAgICAgICAgICAgICBpZDogMTEsXFxyXFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcXFwib3ZvIGplIG9waXMgdHJpXFxcIixcXHJcXG4gICAgICAgICAgICAgICAgc3JjOiBcXFwiLi9pbWcvZ2FsbGVyeS9jYXQtMTEuanBnXFxcIixcXHJcXG4gICAgICAgICAgICB9LFxcclxcbiAgICAgICAgICAgIHtcXHJcXG4gICAgICAgICAgICAgICAgaWQ6IDEyLFxcclxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXFxcIm92byBqZSBvcGlzIHRyaVxcXCIsXFxyXFxuICAgICAgICAgICAgICAgIHNyYzogXFxcIi4vaW1nL2dhbGxlcnkvY2F0LTEyLmpwZ1xcXCIsXFxyXFxuICAgICAgICAgICAgfSxcXHJcXG4gICAgICAgIF0sXFxyXFxuICAgIH0sXFxyXFxuXTtcXHJcXG5cXG5cXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly9ndWxwc3RhcnRlci8uL3NyYy9qcy9rYXRlZ29yaWplL2RhdGEuanM/XCIpO1xuICAgICAgLyoqKi9cbiAgICB9LFxuXG4gICAgLyoqKi9cbiAgICBcIi4vc3JjL2pzL21haW4uanNcIjpcbiAgICAvKiEqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICAgICAhKioqIC4vc3JjL2pzL21haW4uanMgKioqIVxuICAgICAgXFwqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICAvKioqL1xuICAgIGZ1bmN0aW9uIHNyY0pzTWFpbkpzKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gICAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgICAgZXZhbChcIl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Rlc3RpbW9uaWFsc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi90ZXN0aW1vbmlhbHMuanMgKi8gXFxcIi4vc3JjL2pzL3Rlc3RpbW9uaWFscy5qc1xcXCIpO1xcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfYWNjb3JkaW9uX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2FjY29yZGlvbi5qcyAqLyBcXFwiLi9zcmMvanMvYWNjb3JkaW9uLmpzXFxcIik7XFxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9hY2NvcmRpb25fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfYWNjb3JkaW9uX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZ2FsbGVyeV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9nYWxsZXJ5LmpzICovIFxcXCIuL3NyYy9qcy9nYWxsZXJ5LmpzXFxcIik7XFxuXFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuY29uc3QgdG9nZ2xlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXFxcIi5tYWluLW5hdi0tdG9nZ2xlclxcXCIpO1xcclxcbmNvbnN0IGxpbmtzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcXFwiLm1haW4tbmF2X19saW5rcy1jb250YWluZXJcXFwiKTtcXHJcXG5jb25zdCBoYW1idXJnZXJMaW5lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXFxcIi5tYWluLW5hdi0tdG9nZ2xlci1saW5lXFxcIik7XFxyXFxuXFxyXFxudG9nZ2xlckJ0bi5hZGRFdmVudExpc3RlbmVyKFxcXCJjbGlja1xcXCIsIChlKSA9PiB7XFxyXFxuICAgIGUucHJldmVudERlZmF1bHQoKTtcXHJcXG4gICAgaGFtYnVyZ2VyTGluZXMuZm9yRWFjaCgoZWwpID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoXFxcImFjdGl2ZVxcXCIpKTtcXHJcXG4gICAgbGlua3NDb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShcXFwiYWN0aXZlXFxcIik7XFxyXFxufSk7XFxyXFxuXFxyXFxubGlua3NDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcXFwiY2xpY2tcXFwiLCAoZSkgPT4ge1xcclxcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XFxyXFxuICAgIGlmIChbLi4uaGFtYnVyZ2VyTGluZXNdLnNvbWUoKGVsKSA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoXFxcImFjdGl2ZVxcXCIpKSkge1xcclxcbiAgICAgICAgaGFtYnVyZ2VyTGluZXMuZm9yRWFjaCgoZWwpID0+IGVsLmNsYXNzTGlzdC5yZW1vdmUoXFxcImFjdGl2ZVxcXCIpKTtcXHJcXG4gICAgICAgIGxpbmtzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXFxcImFjdGl2ZVxcXCIpO1xcclxcbiAgICB9XFxyXFxufSk7XFxyXFxuXFxyXFxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcXFwiRE9NQ29udGVudExvYWRlZFxcXCIsICgpID0+IHtcXHJcXG4gICAgWy4uLmFjY29yZGlvbkNvbnRlbnRzXS5mb3JFYWNoKChlbCkgPT4gZWwuY2xhc3NMaXN0LmFkZChcXFwiaGlkZGVuXFxcIikpO1xcclxcbn0pO1xcclxcblxcblxcbi8vIyBzb3VyY2VVUkw9d2VicGFjazovL2d1bHBzdGFydGVyLy4vc3JjL2pzL21haW4uanM/XCIpO1xuICAgICAgLyoqKi9cbiAgICB9LFxuXG4gICAgLyoqKi9cbiAgICBcIi4vc3JjL2pzL3Jldmlld3MuanNcIjpcbiAgICAvKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICAgICAhKioqIC4vc3JjL2pzL3Jldmlld3MuanMgKioqIVxuICAgICAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICAvKioqL1xuICAgIGZ1bmN0aW9uIHNyY0pzUmV2aWV3c0pzKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gICAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgICAgZXZhbChcIl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcXG4vKiBoYXJtb255IGV4cG9ydCAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywge1xcbi8qIGhhcm1vbnkgZXhwb3J0ICovICAgXFxcInJldmlld3NcXFwiOiAoKSA9PiAoLyogYmluZGluZyAqLyByZXZpZXdzKVxcbi8qIGhhcm1vbnkgZXhwb3J0ICovIH0pO1xcbmNvbnN0IHJldmlld3MgPSBbXFxyXFxuICAgIHtcXHJcXG4gICAgICAgIGlkOiAxLFxcclxcbiAgICAgICAgbmFtZTogXFxcIkNhdCBPbmVcXFwiLFxcclxcbiAgICAgICAgam9iOiBcXFwiVVhcXFwiLFxcclxcbiAgICAgICAgaW1nOiBcXFwiaW1nL2NhdC0xLmpwZ1xcXCIsXFxyXFxuICAgICAgICB0ZXh0OiBcXFwiT2RsacSNYW4gcG9zYW8gbmEgbmHFoW9qIGt1xIdpIHUgVmluacWhxId1LCBpenV6ZXRubyBzbW8gemFkb3ZvbGpuaSBrdmFsaXRldG9tIGkgcmFkb20uXFxcIixcXHJcXG4gICAgfSxcXHJcXG4gICAge1xcclxcbiAgICAgICAgaWQ6IDIsXFxyXFxuICAgICAgICBuYW1lOiBcXFwiQ2F0IFR3b1xcXCIsXFxyXFxuICAgICAgICBqb2I6IFxcXCJHcmFwaGljc1xcXCIsXFxyXFxuICAgICAgICBpbWc6IFxcXCJpbWcvY2F0LTIuanBnXFxcIixcXHJcXG4gICAgICAgIHRleHQ6IFxcXCJUaGlzIGlzIHNvbWUgcmFuZG9tIHRleHRcXFwiLFxcclxcbiAgICB9LFxcclxcbiAgICB7XFxyXFxuICAgICAgICBpZDogMyxcXHJcXG4gICAgICAgIG5hbWU6IFxcXCJDYXQgT25lXFxcIixcXHJcXG4gICAgICAgIGpvYjogXFxcIlRlc3RlclxcXCIsXFxyXFxuICAgICAgICBpbWc6IFxcXCJpbWcvY2F0LTMuanBnXFxcIixcXHJcXG4gICAgICAgIHRleHQ6IFxcXCJUaGlzIGlzIHNvbWUgcmFuZG9tIHRleHRcXFwiLFxcclxcbiAgICB9LFxcclxcbl07XFxyXFxuXFxuXFxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vZ3VscHN0YXJ0ZXIvLi9zcmMvanMvcmV2aWV3cy5qcz9cIik7XG4gICAgICAvKioqL1xuICAgIH0sXG5cbiAgICAvKioqL1xuICAgIFwiLi9zcmMvanMvdGVzdGltb25pYWxzLmpzXCI6XG4gICAgLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICAgICAhKioqIC4vc3JjL2pzL3Rlc3RpbW9uaWFscy5qcyAqKiohXG4gICAgICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgLyoqKi9cbiAgICBmdW5jdGlvbiBzcmNKc1Rlc3RpbW9uaWFsc0pzKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gICAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgICAgZXZhbChcIl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Jldmlld3NfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcmV2aWV3cy5qcyAqLyBcXFwiLi9zcmMvanMvcmV2aWV3cy5qc1xcXCIpO1xcblxcclxcblxcclxcbmNvbnN0IHRlc3RpbW9uaWFsQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcXFwiLnRlc3RpbW9uaWFsc1xcXCIpO1xcclxcbmNvbnN0IHRlc3RpbW9uaWFsSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcXFwiLnRlc3RpbW9uaWFsc19faW1nXFxcIik7XFxyXFxuY29uc3QgdGVzdGltb25pYWxUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXFxcIi50ZXN0aW1vbmlhbHNfX3RpdGxlXFxcIik7XFxyXFxuY29uc3QgdGVzdGltb25pYWxKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxcXCIudGVzdGltb25pYWxzX19qb2JcXFwiKTtcXHJcXG5jb25zdCB0ZXN0aW1vbmlhbEluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxcXCIudGVzdGltb25pYWxzX19pbmZvXFxcIik7XFxyXFxuY29uc3QgYnRuVGVzdGltb25pYWxMZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcXHJcXG4gICAgXFxcIi50ZXN0aW1vbmlhbHNfX2J1dHRvbi0tbGVmdFxcXCJcXHJcXG4pO1xcclxcbmNvbnN0IGJ0blRlc3RpbW9uaWFsUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxcclxcbiAgICBcXFwiLnRlc3RpbW9uaWFsc19fYnV0dG9uLS1yaWdodFxcXCJcXHJcXG4pO1xcclxcblxcclxcbi8vIFN0YXRlXFxyXFxubGV0IGN1cnJlbnROdW1iZXIgPSAwO1xcclxcbmNvbnN0IGludGVydmFsVGltaW5nID0gMjI1MDtcXHJcXG5sZXQgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiBpbnRlcnZhbFNldHVwKCksIGludGVydmFsVGltaW5nKTtcXHJcXG5cXHJcXG4vLyBFdmVudCBMaXN0ZW5lcnNcXHJcXG50ZXN0aW1vbmlhbENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFxcXCJtb3VzZW92ZXJcXFwiLCAoKSA9PiB7XFxyXFxuICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xcclxcbn0pO1xcclxcblxcclxcbnRlc3RpbW9uaWFsQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXFxcIm1vdXNlb3V0XFxcIiwgKCkgPT4ge1xcclxcbiAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IGludGVydmFsU2V0dXAoKSwgaW50ZXJ2YWxUaW1pbmcpO1xcclxcbn0pO1xcclxcblxcclxcbmJ0blRlc3RpbW9uaWFsTGVmdC5hZGRFdmVudExpc3RlbmVyKFxcXCJjbGlja1xcXCIsIChlKSA9PiB7XFxyXFxuICAgIGUucHJldmVudERlZmF1bHQoKTtcXHJcXG4gICAgY3VycmVudE51bWJlci0tO1xcclxcbiAgICBtb3ZlSXRlbSgpO1xcclxcbn0pO1xcclxcblxcclxcbmJ0blRlc3RpbW9uaWFsUmlnaHQuYWRkRXZlbnRMaXN0ZW5lcihcXFwiY2xpY2tcXFwiLCAoZSkgPT4ge1xcclxcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XFxyXFxuICAgIGN1cnJlbnROdW1iZXIrKztcXHJcXG4gICAgbW92ZUl0ZW0oKTtcXHJcXG59KTtcXHJcXG5cXHJcXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcXFwiRE9NQ29udGVudExvYWRlZFxcXCIsICgpID0+IHtcXHJcXG4gICAgY29uc3QgaXRlbSA9IF9yZXZpZXdzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18ucmV2aWV3c1tjdXJyZW50TnVtYmVyXTtcXHJcXG4gICAgc2V0UHJvcGVydGllcyhpdGVtKTtcXHJcXG59KTtcXHJcXG5cXHJcXG4vLyBMb2dpYyAtIEZ1bmN0aW9uc1xcclxcbmZ1bmN0aW9uIGFkanVzdE51bWJlcihudW0pIHtcXHJcXG4gICAgaWYgKG51bSA8IDApIHtcXHJcXG4gICAgICAgIGN1cnJlbnROdW1iZXIgPSBfcmV2aWV3c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fLnJldmlld3MubGVuZ3RoIC0gMTtcXHJcXG4gICAgICAgIHJldHVybiBjdXJyZW50TnVtYmVyO1xcclxcbiAgICB9XFxyXFxuICAgIGlmIChudW0gPiBfcmV2aWV3c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fLnJldmlld3MubGVuZ3RoIC0gMSkge1xcclxcbiAgICAgICAgY3VycmVudE51bWJlciA9IDA7XFxyXFxuICAgICAgICByZXR1cm4gY3VycmVudE51bWJlcjtcXHJcXG4gICAgfVxcclxcbn1cXHJcXG5cXHJcXG5mdW5jdGlvbiBpbnRlcnZhbFNldHVwKCkge1xcclxcbiAgICBjdXJyZW50TnVtYmVyKys7XFxyXFxuICAgIG1vdmVJdGVtKCk7XFxyXFxufVxcclxcblxcclxcbmZ1bmN0aW9uIG1vdmVJdGVtKCkge1xcclxcbiAgICBpZiAoaXNWYWxpZE51bWJlcihjdXJyZW50TnVtYmVyKSkge1xcclxcbiAgICAgICAgc2V0UHJvcGVydGllcyhfcmV2aWV3c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fLnJldmlld3NbY3VycmVudE51bWJlcl0pO1xcclxcbiAgICAgICAgcmV0dXJuO1xcclxcbiAgICB9XFxyXFxuICAgIGFkanVzdE51bWJlcihjdXJyZW50TnVtYmVyKTtcXHJcXG4gICAgc2V0UHJvcGVydGllcyhfcmV2aWV3c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fLnJldmlld3NbY3VycmVudE51bWJlcl0pO1xcclxcbn1cXHJcXG5cXHJcXG5mdW5jdGlvbiBpc1ZhbGlkTnVtYmVyKG51bSkge1xcclxcbiAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG51bSkgJiYgbnVtID49IDAgJiYgbnVtIDwgX3Jldmlld3NfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXy5yZXZpZXdzLmxlbmd0aDtcXHJcXG59XFxyXFxuXFxyXFxuZnVuY3Rpb24gc2V0UHJvcGVydGllcyhpdGVtKSB7XFxyXFxuICAgIHRlc3RpbW9uaWFsSW1nLnNyYyA9IGl0ZW0uaW1nO1xcclxcbiAgICB0ZXN0aW1vbmlhbFRpdGxlLnRleHRDb250ZW50ID0gaXRlbS5uYW1lO1xcclxcbiAgICB0ZXN0aW1vbmlhbEpvYi50ZXh0Q29udGVudCA9IGl0ZW0uam9iO1xcclxcbiAgICB0ZXN0aW1vbmlhbEluZm8udGV4dENvbnRlbnQgPSBpdGVtLnRleHQ7XFxyXFxufVxcclxcblxcblxcbi8vIyBzb3VyY2VVUkw9d2VicGFjazovL2d1bHBzdGFydGVyLy4vc3JjL2pzL3Rlc3RpbW9uaWFscy5qcz9cIik7XG4gICAgICAvKioqL1xuICAgIH1cbiAgICAvKioqKioqL1xuXG4gIH07XG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqKioqKi9cbiAgLy8gVGhlIG1vZHVsZSBjYWNoZVxuXG4gIC8qKioqKiovXG5cbiAgdmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuICAvKioqKioqL1xuXG4gIC8qKioqKiovXG4gIC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5cbiAgLyoqKioqKi9cblxuICBmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4gICAgLyoqKioqKi9cbiAgICAvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblxuICAgIC8qKioqKiovXG4gICAgdmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG4gICAgLyoqKioqKi9cblxuICAgIGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLyoqKioqKi9cbiAgICAgIHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcbiAgICAgIC8qKioqKiovXG4gICAgfVxuICAgIC8qKioqKiovXG4gICAgLy8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblxuICAgIC8qKioqKiovXG5cblxuICAgIHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuICAgICAgLyoqKioqKi9cbiAgICAgIC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblxuICAgICAgLyoqKioqKi9cbiAgICAgIC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cbiAgICAgIC8qKioqKiovXG4gICAgICBleHBvcnRzOiB7fVxuICAgICAgLyoqKioqKi9cblxuICAgIH07XG4gICAgLyoqKioqKi9cblxuICAgIC8qKioqKiovXG4gICAgLy8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cbiAgICAvKioqKioqL1xuXG4gICAgX193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4gICAgLyoqKioqKi9cblxuICAgIC8qKioqKiovXG4gICAgLy8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblxuICAgIC8qKioqKiovXG5cblxuICAgIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiAgICAvKioqKioqL1xuICB9XG4gIC8qKioqKiovXG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKioqKioqL1xuXG4gIC8qIHdlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0ICovXG5cbiAgLyoqKioqKi9cblxuXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqKioqKi9cbiAgICAvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuXG4gICAgLyoqKioqKi9cbiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbiAobW9kdWxlKSB7XG4gICAgICAvKioqKioqL1xuICAgICAgdmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gICAgICAvKioqKioqL1xuICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107XG4gICAgICB9IDpcbiAgICAgIC8qKioqKiovXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBtb2R1bGU7XG4gICAgICB9O1xuICAgICAgLyoqKioqKi9cblxuICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwge1xuICAgICAgICBhOiBnZXR0ZXJcbiAgICAgIH0pO1xuICAgICAgLyoqKioqKi9cblxuXG4gICAgICByZXR1cm4gZ2V0dGVyO1xuICAgICAgLyoqKioqKi9cbiAgICB9O1xuICAgIC8qKioqKiovXG5cbiAgfSkoKTtcbiAgLyoqKioqKi9cblxuICAvKioqKioqL1xuXG4gIC8qIHdlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyAqL1xuXG4gIC8qKioqKiovXG5cblxuICAoZnVuY3Rpb24gKCkge1xuICAgIC8qKioqKiovXG4gICAgLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuXG4gICAgLyoqKioqKi9cbiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbiAoZXhwb3J0cywgZGVmaW5pdGlvbikge1xuICAgICAgLyoqKioqKi9cbiAgICAgIGZvciAodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG4gICAgICAgIC8qKioqKiovXG4gICAgICAgIGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcbiAgICAgICAgICAvKioqKioqL1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBnZXQ6IGRlZmluaXRpb25ba2V5XVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8qKioqKiovXG4gICAgICAgIH1cbiAgICAgICAgLyoqKioqKi9cblxuICAgICAgfVxuICAgICAgLyoqKioqKi9cblxuICAgIH07XG4gICAgLyoqKioqKi9cblxuICB9KSgpO1xuICAvKioqKioqL1xuXG4gIC8qKioqKiovXG5cbiAgLyogd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCAqL1xuXG4gIC8qKioqKiovXG5cblxuICAoZnVuY3Rpb24gKCkge1xuICAgIC8qKioqKiovXG4gICAgX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24gKG9iaiwgcHJvcCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xuICAgIH07XG4gICAgLyoqKioqKi9cblxuICB9KSgpO1xuICAvKioqKioqL1xuXG4gIC8qKioqKiovXG5cbiAgLyogd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCAqL1xuXG4gIC8qKioqKiovXG5cblxuICAoZnVuY3Rpb24gKCkge1xuICAgIC8qKioqKiovXG4gICAgLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuXG4gICAgLyoqKioqKi9cbiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbiAoZXhwb3J0cykge1xuICAgICAgLyoqKioqKi9cbiAgICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiAgICAgICAgLyoqKioqKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuICAgICAgICAgIHZhbHVlOiAnTW9kdWxlJ1xuICAgICAgICB9KTtcbiAgICAgICAgLyoqKioqKi9cbiAgICAgIH1cbiAgICAgIC8qKioqKiovXG5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICAvKioqKioqL1xuICAgIH07XG4gICAgLyoqKioqKi9cblxuICB9KSgpO1xuICAvKioqKioqL1xuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqKioqKi9cblxuICAvKioqKioqL1xuICAvLyBzdGFydHVwXG5cbiAgLyoqKioqKi9cbiAgLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG5cbiAgLyoqKioqKi9cbiAgLy8gVGhpcyBlbnRyeSBtb2R1bGUgY2FuJ3QgYmUgaW5saW5lZCBiZWNhdXNlIHRoZSBldmFsIGRldnRvb2wgaXMgdXNlZC5cblxuICAvKioqKioqL1xuXG5cbiAgdmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvanMvbWFpbi5qc1wiKTtcbiAgLyoqKioqKi9cblxuICAvKioqKioqL1xuXG59KSgpOyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfbW9kdWxlc19fIiwiLi9zcmMvanMvYWNjb3JkaW9uLmpzIiwic3JjSnNBY2NvcmRpb25KcyIsImV2YWwiLCIuL3NyYy9qcy9nYWxsZXJ5LmpzIiwic3JjSnNHYWxsZXJ5SnMiLCJfX3VudXNlZF93ZWJwYWNrX21vZHVsZSIsIl9fd2VicGFja19leHBvcnRzX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiLi9zcmMvanMva2F0ZWdvcmlqZS9kYXRhLmpzIiwic3JjSnNLYXRlZ29yaWplRGF0YUpzIiwiLi9zcmMvanMvbWFpbi5qcyIsInNyY0pzTWFpbkpzIiwiLi9zcmMvanMvcmV2aWV3cy5qcyIsInNyY0pzUmV2aWV3c0pzIiwiLi9zcmMvanMvdGVzdGltb25pYWxzLmpzIiwic3JjSnNUZXN0aW1vbmlhbHNKcyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwibW9kdWxlIiwiZXhwb3J0cyIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSJdLCJtYXBwaW5ncyI6IkFBQUEsYUFZQSxDQUFBLFdBSUUsSUFBSUEsb0JBQXNCLENBRXhCQyx3QkFNQSxTQUFTQyxtQkFDUEMsS0FBSywyd0NBQXV5QyxDQUU5eUMsRUFHQUMsc0JBTUEsU0FBU0MsZUFBZUMsd0JBQXlCQyxvQkFBcUJDLHFCQUdwRUwsS0FBSyxpNUtBQSsrSyxDQUV0L0ssRUFHQU0sOEJBTUEsU0FBU0Msc0JBQXNCSix3QkFBeUJDLG9CQUFxQkMscUJBRzNFTCxLQUFLLHcyRUFBODVFLENBRXI2RSxFQUdBUSxtQkFNQSxTQUFTQyxZQUFZTix3QkFBeUJDLG9CQUFxQkMscUJBR2pFTCxLQUFLLGlqREFBK2tELENBRXRsRCxFQUdBVSxzQkFNQSxTQUFTQyxlQUFlUix3QkFBeUJDLG9CQUFxQkMscUJBR3BFTCxLQUFLLHUxQkFBaTNCLENBRXgzQixFQUdBWSwyQkFNQSxTQUFTQyxvQkFBb0JWLHdCQUF5QkMsb0JBQXFCQyxxQkFHekVMLEtBQUssa3hGQUE0eUYsQ0FFbnpGLENBR0YsRUFRSWMseUJBQTJCLEdBUS9CLFNBQVNULG9CQUFvQlUsR0FLM0IsSUFBSUMsRUFBZUYseUJBQXlCQyxHQUc1QyxPQUFxQkUsS0FBQUEsSUFBakJELElBV0FFLEVBQVNKLHlCQUF5QkMsR0FBWSxDQVFoREksUUFBUyxFQUdYLEVBUUF0QixvQkFBb0JrQixHQUFVRyxFQUFRQSxFQUFPQyxRQUFTZCxtQkFBbUIsR0E1QmhFVyxFQUFhRyxPQXVDeEIsQ0FpQkVkLG9CQUFvQmUsRUFBSSxTQUFVRixHQUVoQyxJQUFJRyxFQUFTSCxHQUFVQSxFQUFPSSxXQUU5QixXQUNFLE9BQU9KLEVBQWdCLE9BQ3pCLEVBRUEsV0FDRSxPQUFPQSxDQUNULEVBU0EsT0FOQWIsb0JBQW9Ca0IsRUFBRUYsRUFBUSxDQUM1QkcsRUFBR0gsQ0FDTCxDQUFDLEVBSU1BLENBRVQsRUFrQkFoQixvQkFBb0JrQixFQUFJLFNBQVVKLEVBQVNNLEdBRXpDLElBQUssSUFBSUMsS0FBT0QsRUFFVnBCLG9CQUFvQnNCLEVBQUVGLEVBQVlDLENBQUcsR0FBSyxDQUFDckIsb0JBQW9Cc0IsRUFBRVIsRUFBU08sQ0FBRyxHQUUvRUUsT0FBT0MsZUFBZVYsRUFBU08sRUFBSyxDQUNsQ0ksV0FBWSxDQUFBLEVBQ1pDLElBQUtOLEVBQVdDLEVBQ2xCLENBQUMsQ0FRUCxFQWVBckIsb0JBQW9Cc0IsRUFBSSxTQUFVSyxFQUFLQyxHQUNyQyxPQUFPTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxDQUFJLENBQ3ZELEVBa0JBNUIsb0JBQW9CZ0MsRUFBSSxTQUFVbEIsR0FFVixhQUFsQixPQUFPbUIsUUFBMEJBLE9BQU9DLGFBRTFDWCxPQUFPQyxlQUFlVixFQUFTbUIsT0FBT0MsWUFBYSxDQUNqREMsTUFBTyxRQUNULENBQUMsRUFNSFosT0FBT0MsZUFBZVYsRUFBUyxhQUFjLENBQzNDcUIsTUFBTyxDQUFBLENBQ1QsQ0FBQyxDQUVILEVBc0JGLElBQUlwQyxvQkFBc0JDLG9CQUFvQixrQkFBa0IsQ0FLakUsRUFBRSJ9
